# Initial contributor: flixie <69one@gmx.net>
# Contributor: Lukas Jirkovsky <l.jirkovsky@gmail.com>
pkgname=luxrender
pkgver=0.6
_pkgver=838ca0642516
_luxblend=bc1e3bef1607
pkgrel=2
pkgdesc="Rendering system for physically correct, unbiased image synthesis"
arch=('i686' 'x86_64')
url="http://www.luxrender.net/"
license=('GPL')
depends=('openexr' 'libgl' 'boost>=1.41.0' 'wxgtk')
makedepends=('cmake')
source=(lux-${_pkgver}.tar.bz2::http://src.luxrender.net/lux/archive/${_pkgver}.tar.bz2
        luxblend-${_luxblend}.tar.bz2::http://src.luxrender.net/luxblend/archive/${_luxblend}.tar.bz2)
md5sums=('0b51b60ced6a5cd794b76152d6ce684b'
         '2f18cb1c3437bd3b8173bdec9a6e8190')

build() {
  cd "$srcdir"/lux-${_pkgver}
  cmake -DCMAKE_INSTALL_PREFIX=/usr .
  make || return 1
  make DESTDIR=$pkgdir install

  # install blender exporter
  install -d -m755 $pkgdir/usr/share/blender/scripts
  install -m644 $srcdir/luxblend-${_luxblend}/*.py $pkgdir/usr/share/blender/scripts
}

# vim:set ts=2 sw=2 et:
