diff -wbBur ipsec-tools-0.6.6/src/racoon/grabmyaddr.c ipsec-tools-0.6.6.y/src/racoon/grabmyaddr.c
--- ipsec-tools-0.6.6/src/racoon/grabmyaddr.c	2005-07-16 08:41:01.000000000 +0400
+++ ipsec-tools-0.6.6.y/src/racoon/grabmyaddr.c	2006-12-08 18:14:12.000000000 +0300
@@ -76,6 +76,8 @@
 
 #ifdef __linux__
 #include <linux/types.h>
+#include <linux/if_addr.h>
+#define IFA_RTA(r)  ((struct rtattr*)(((char*)(r)) + NLMSG_ALIGN(sizeof(struct ifaddrmsg))))
 #include <linux/rtnetlink.h>
 #ifndef HAVE_GETIFADDRS
 #define HAVE_GETIFADDRS
