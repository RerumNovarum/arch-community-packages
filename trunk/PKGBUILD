# $Id: PKGBUILD 26298 2010-09-14 17:18:19Z schuay $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Morgan LEFIEUX <comete_AT_archlinuxfr.org>

pkgname=python2-ldap
pkgver=2.3.12
pkgrel=1
pkgdesc="Provides an object-oriented API to access LDAP directory servers from Python programs"
arch=('i686' 'x86_64')
url="http://python-ldap.sourceforge.net"
license=('custom')
depends=('python2' 'libldap>=2.4.18')
replaces=('python-ldap')
source=(http://pypi.python.org/packages/source/p/$pkgname/$pkgname-$pkgver.tar.gz)
md5sums=('564d741a7c6d5fdcb45322fe9262d1a5')

build() {
  cd $srcdir/$pkgname-$pkgver
  sed -i 's|<sasl.h>|<sasl/sasl.h>|' Modules/LDAPObject.c
  python2 setup.py build
  python2 setup.py install --root $pkgdir
  install -D -m644 LICENCE $pkgdir/usr/share/licenses/$pkgname/LICENSE
}
