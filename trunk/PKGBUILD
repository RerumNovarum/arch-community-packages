# $Id: PKGBUILD,v 1.2 2009/04/09 09:51:51 sergej Exp $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Gleidson Echeli <gleidson dot echeli at gmail dot com>

pkgname=umlet
pkgver=9.1
pkgrel=1
pkgdesc="Free UML Tool for Fast UML Diagrams (stand-alone version)"
arch=('i686' 'x86_64')
url="http://www.umlet.com"
license=('GPL')
depends=('java-runtime')
makedepends=('unzip' 'patch')
source=('http://www.umlet.com/umlet_9_1/umlet_9_1.zip'
        'umlet.desktop'
	'UMLet.sh.diff')
md5sums=('2569a3a54f783d6846efe3999f97cb33'
         'f07815432b21ab77ed953df79223dc8c'
         '658ee8c5bde1ee1e4604ddc46757a729')

build() {
  install -D -m644 ${srcdir}/umlet.desktop ${startdir}/pkg/usr/share/applications/umlet.desktop || return 1

  cd ${srcdir}/UMLet\ 9.1

  patch -Np1 -i ../UMLet.sh.diff || return 1
  install -D -m755 UMLet.sh ${pkgdir}/usr/bin/umlet || return 1
   
  rm -rf src || return 1
  rm -ff UMLet.exe || return 1

  mv ${srcdir}/UMLet\ 9.1 ${pkgdir}/usr/share/umlet || return 1
}
