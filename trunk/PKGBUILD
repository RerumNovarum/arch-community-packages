# $Id$
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: eric <eric@archlinux.org>
# Contributor: dorphell <dorphell@gmx.net>

pkgname=ude
pkgver=0.2.10a
pkgrel=5
pkgdesc="Unix Desktop Environment (GUI desktop environment)"
arch=('x86_64' 'i686')
license=('GPL')
depends=('libjpeg' 'libxmu' 'libxpm' 'bash')
makedepends=('gendesk')
url="http://udeproject.sourceforge.net/index.shtml"
source=(http://downloads.sourceforge.net/udeproject/uwm-$pkgver.tar.gz)
md5sums=('1370418179f56612ffe63d6ed0c89d13')
_exec=('uwm')

build() {
  cd "$srcdir"
  gendesk

  cd "uwm-$pkgver"
  ./configure --prefix=/usr
  make
}

package() {
  cd "$srcdir/uwm-$pkgver"

  mkdir -p $pkgdir/etc/X11/sessions
  make prefix=$pkgdir/usr install
  install -Dm644 "$srcdir/$pkgname.desktop" "$pkgdir/etc/X11/sessions"
  install -Dm644 "$srcdir/$pkgname.png" \
    "$pkgdir/usr/share/pixmaps/$pkgname.png"
  mv $pkgdir/usr/doc $pkgdir/usr/share/
}
